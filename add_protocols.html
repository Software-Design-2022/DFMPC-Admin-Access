<html> 
<head> 
<title>Add New Protocol</title> 
</head> 
  
<body> 
<div class="main-form"> 
 <h1 id="punTimes">Add New Protocol</h1> 

 <form id = "form" class="form-signin">
    Protocol Name: <input type="text" placeholder="Protocol Name: " id="Name"><br /><br /> 
    Protocol Description: <input type="text" placeholder="Enter protocol description here..." id="Description"maxlength="100" size="100"> <br /><br /> 
  
<br /><br /> 
 <button id="saveButton" >Submit</button> 
</div> 
</form>

<button id="return" >Protocols</button> 

  
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-analytics.js";
    import {getFirestore, collection, doc, setDoc} from "https://www.gstatic.com/firebasejs/9.6.11/firebase-firestore.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyAZVQZO8XWR0UTPoSMLrRN7nSltUDW9Xzs",
      authDomain: "dfmpc-student-placement-system.firebaseapp.com",
      databaseURL: "https://dfmpc-student-placement-system-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "dfmpc-student-placement-system",
      storageBucket: "dfmpc-student-placement-system.appspot.com",
      messagingSenderId: "295214875936",
      appId: "1:295214875936:web:546dcdb4f822d1c4c84345",
      measurementId: "G-1JPG0HXVWQ"
    };
  
    // Initialize Firebase and variables
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getFirestore();
    const submit = document.getElementById("saveButton");
    
    
    form.addEventListener("submit", (event) =>{
        event.preventDefault();

        
        addProtocols();
     
         console.log("Doc successful");
         

        
    })
        async function addProtocols() {

            var inputName = document.getElementById("Name").value;
            var inputDescription = document.getElementById("Description").value;
             setDoc(doc(db, "emergency_protocols", inputName), {
                protocol_name: inputName,
                protocol_1: inputDescription
                });
                console.log(inputName, inputDescription)
        }

        
  </script>

<script>
    var back = document.getElementById("return");

    back.addEventListener("click", function(){
        document.location.href = "protocols.html";
    });
</script>
  
</body> 
</html>